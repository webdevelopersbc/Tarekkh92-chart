{"version":3,"sources":["../node_modules/react-contextmenu/es6/helpers.js","../node_modules/react-contextmenu/es6/actions.js","../node_modules/react-contextmenu/es6/globalEventListener.js","../node_modules/react-contextmenu/es6/MenuItem.js","../node_modules/react-contextmenu/es6/AbstractMenu.js","../node_modules/react-contextmenu/es6/SubMenu.js","../node_modules/react-contextmenu/es6/ContextMenu.js","../node_modules/react-contextmenu/es6/ContextMenuTrigger.js","../node_modules/react-contextmenu/es6/connectMenu.js","../node_modules/react-contextmenu/es6/index.js"],"names":["callIfExists","func","_len","arguments","length","args","Array","_key","apply","undefined","hasOwnProp","obj","prop","Object","prototype","hasOwnProperty","call","cssClasses","store","canUseDOM","Boolean","window","document","createElement","MENU_SHOW","MENU_HIDE","dispatchGlobalEvent","eventName","opts","target","event","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","showMenu","type","hideMenu","GlobalEventListener","_this","this","instance","Constructor","TypeError","_classCallCheck","handleShowEvent","id","callbacks","show","handleHideEvent","hide","register","showCallback","hideCallback","Math","random","toString","substring","unregister","addEventListener","_extends","assign","i","source","key","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_defineProperty","value","_possibleConstructorReturn","self","ReferenceError","_Component","MenuItem","_ref","_temp","__proto__","getPrototypeOf","concat","handleClick","button","preventDefault","disabled","divider","onClick","data","preventClose","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_cx","_this2","_props","children","attributes","selected","menuItemClassNames","className","disabledClassName","dividerClassName","selectedClassName","role","tabIndex","ref","_ref2","onMouseMove","onMouseLeave","onTouchEnd","propTypes","node","object","bool","defaultProps","AbstractMenu","seletedItemRef","state","selectedItem","forceSubMenuOpen","isRequired","handleKeyNavigation","e","isVisible","keyCode","selectChildren","tryToOpenSubMenu","HTMLElement","click","handleForceClose","setState","getSubMenuType","forward","disabledChildrenCount","disabledChildIndexes","Children","forEach","childCollector","child","index","indexOf","push","nextEnabledChildIndex","currentIndex","findNextEnabledChildIndex","onChildMouseMove","onChildMouseLeave","renderChildren","map","isValidElement","cloneElement","bind","forceOpen","forceClose","parentKeyNavigationHandler","_AbstractMenu","SubMenu","getMenuPosition","_window","innerWidth","innerHeight","rect","subMenu","getBoundingClientRect","position","bottom","top","right","left","getRTLMenuPosition","menu","visible","unregisterHandlers","handleMouseEnter","closetimer","clearTimeout","opentimer","setTimeout","hoverDelay","handleMouseLeave","menuRef","c","subMenuRef","registerHandlers","removeEventListener","dismounting","listenId","nextProps","nextState","isVisibilityChange","requestAnimationFrame","styles","rtl","style","removeProperty","classList","add","cleanup","remove","title","menuProps","onMouseEnter","listClassName","menuItemProps","visibleClassName","onMouseOut","subMenuProps","transition","string","number","ContextMenu","handleOutsideClick","handleHide","handleShow","_e$detail$position","x","y","onShow","onHide","contains","hideOnLeave","handleContextMenu","menuStyles","height","width","_window2","wrapper","_state","opacity","pointerEvents","inlineStyle","menuClassnames","onContextMenu","ContextMenuTrigger","touchHandled","handleMouseDown","holdToDisplay","persist","stopPropagation","mouseDownTimeoutId","handleContextClick","onMouseDown","handleMouseUp","onMouseUp","handleMouseOut","handleTouchstart","touchstartTimeoutId","onTouchStart","handleTouchEnd","disable","disableIfShiftIsPressed","shiftKey","clientX","touches","pageX","clientY","pageY","posX","posY","collect","showMenuConfig","elem","then","resp","elemRef","renderTag","newAttrs","oneOfType","arr","isArray","arr2","from","_toConsumableArray","keys"],"mappings":"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","file":"static/js/109.f09b9786.chunk.js","sourcesContent":["export function callIfExists(func) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof func === 'function' && func.apply(undefined, args);\n}\nexport function hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nexport function uniqueId() {\n  return Math.random().toString(36).substring(7);\n}\nexport var cssClasses = {\n  menu: 'react-contextmenu',\n  menuVisible: 'react-contextmenu--visible',\n  menuWrapper: 'react-contextmenu-wrapper',\n  menuItem: 'react-contextmenu-item',\n  menuItemActive: 'react-contextmenu-item--active',\n  menuItemDisabled: 'react-contextmenu-item--disabled',\n  menuItemDivider: 'react-contextmenu-item--divider',\n  menuItemSelected: 'react-contextmenu-item--selected',\n  subMenu: 'react-contextmenu-submenu'\n};\nexport var store = {};\nexport var canUseDOM = Boolean(typeof window !== 'undefined' && window.document && window.document.createElement);","import assign from 'object-assign';\nimport { store } from './helpers';\nexport var MENU_SHOW = 'REACT_CONTEXTMENU_SHOW';\nexport var MENU_HIDE = 'REACT_CONTEXTMENU_HIDE';\nexport function dispatchGlobalEvent(eventName, opts) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window; // Compatibale with IE\n  // @see http://stackoverflow.com/questions/26596123/internet-explorer-9-10-11-event-constructor-doesnt-work\n\n  var event = void 0;\n\n  if (typeof window.CustomEvent === 'function') {\n    event = new window.CustomEvent(eventName, {\n      detail: opts\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(eventName, false, true, opts);\n  }\n\n  if (target) {\n    target.dispatchEvent(event);\n    assign(store, opts);\n  }\n}\nexport function showMenu() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var target = arguments[1];\n  dispatchGlobalEvent(MENU_SHOW, assign({}, opts, {\n    type: MENU_SHOW\n  }), target);\n}\nexport function hideMenu() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var target = arguments[1];\n  dispatchGlobalEvent(MENU_HIDE, assign({}, opts, {\n    type: MENU_HIDE\n  }), target);\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nimport { MENU_SHOW, MENU_HIDE } from './actions';\nimport { uniqueId, hasOwnProp, canUseDOM } from './helpers';\n\nvar GlobalEventListener = function GlobalEventListener() {\n  var _this = this;\n\n  _classCallCheck(this, GlobalEventListener);\n\n  this.handleShowEvent = function (event) {\n    for (var id in _this.callbacks) {\n      if (hasOwnProp(_this.callbacks, id)) _this.callbacks[id].show(event);\n    }\n  };\n\n  this.handleHideEvent = function (event) {\n    for (var id in _this.callbacks) {\n      if (hasOwnProp(_this.callbacks, id)) _this.callbacks[id].hide(event);\n    }\n  };\n\n  this.register = function (showCallback, hideCallback) {\n    var id = uniqueId();\n    _this.callbacks[id] = {\n      show: showCallback,\n      hide: hideCallback\n    };\n    return id;\n  };\n\n  this.unregister = function (id) {\n    if (id && _this.callbacks[id]) {\n      delete _this.callbacks[id];\n    }\n  };\n\n  this.callbacks = {};\n\n  if (canUseDOM) {\n    window.addEventListener(MENU_SHOW, this.handleShowEvent);\n    window.addEventListener(MENU_HIDE, this.handleHideEvent);\n  }\n};\n\nexport default new GlobalEventListener();","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { hideMenu } from './actions';\nimport { callIfExists, cssClasses, store } from './helpers';\n\nvar MenuItem = function (_Component) {\n  _inherits(MenuItem, _Component);\n\n  function MenuItem() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MenuItem);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MenuItem.__proto__ || Object.getPrototypeOf(MenuItem)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (event.button !== 0 && event.button !== 1) {\n        event.preventDefault();\n      }\n\n      if (_this.props.disabled || _this.props.divider) return;\n      callIfExists(_this.props.onClick, event, assign({}, _this.props.data, store.data), store.target);\n      if (_this.props.preventClose) return;\n      hideMenu();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MenuItem, [{\n    key: 'render',\n    value: function render() {\n      var _cx,\n          _this2 = this;\n\n      var _props = this.props,\n          disabled = _props.disabled,\n          divider = _props.divider,\n          children = _props.children,\n          attributes = _props.attributes,\n          selected = _props.selected;\n      var menuItemClassNames = cx(cssClasses.menuItem, attributes.className, (_cx = {}, _defineProperty(_cx, cx(cssClasses.menuItemDisabled, attributes.disabledClassName), disabled), _defineProperty(_cx, cx(cssClasses.menuItemDivider, attributes.dividerClassName), divider), _defineProperty(_cx, cx(cssClasses.menuItemSelected, attributes.selectedClassName), selected), _cx));\n      return React.createElement('div', _extends({}, attributes, {\n        className: menuItemClassNames,\n        role: 'menuitem',\n        tabIndex: '-1',\n        'aria-disabled': disabled ? 'true' : 'false',\n        'aria-orientation': divider ? 'horizontal' : null,\n        ref: function ref(_ref2) {\n          _this2.ref = _ref2;\n        },\n        onMouseMove: this.props.onMouseMove,\n        onMouseLeave: this.props.onMouseLeave,\n        onTouchEnd: this.handleClick,\n        onClick: this.handleClick\n      }), divider ? null : children);\n    }\n  }]);\n\n  return MenuItem;\n}(Component);\n\nMenuItem.propTypes = {\n  children: PropTypes.node,\n  attributes: PropTypes.object,\n  data: PropTypes.object,\n  disabled: PropTypes.bool,\n  divider: PropTypes.bool,\n  preventClose: PropTypes.bool,\n  onClick: PropTypes.func,\n  selected: PropTypes.bool,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func\n};\nMenuItem.defaultProps = {\n  disabled: false,\n  data: {},\n  divider: false,\n  attributes: {},\n  preventClose: false,\n  onClick: function onClick() {\n    return null;\n  },\n  children: null,\n  selected: false,\n  onMouseMove: function onMouseMove() {\n    return null;\n  },\n  onMouseLeave: function onMouseLeave() {\n    return null;\n  }\n};\nexport default MenuItem;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from './MenuItem';\n\nvar AbstractMenu = function (_Component) {\n  _inherits(AbstractMenu, _Component);\n\n  function AbstractMenu(props) {\n    _classCallCheck(this, AbstractMenu);\n\n    var _this = _possibleConstructorReturn(this, (AbstractMenu.__proto__ || Object.getPrototypeOf(AbstractMenu)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.seletedItemRef = null;\n    _this.state = {\n      selectedItem: null,\n      forceSubMenuOpen: false\n    };\n    return _this;\n  }\n\n  return AbstractMenu;\n}(Component);\n\nAbstractMenu.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.handleKeyNavigation = function (e) {\n    // check for isVisible strictly here as it might be undefined when this code executes in the context of SubMenu\n    // but we only need to check when it runs in the ContextMenu context\n    if (_this2.state.isVisible === false) {\n      return;\n    }\n\n    switch (e.keyCode) {\n      case 37: // left arrow\n\n      case 27:\n        // escape\n        e.preventDefault();\n\n        _this2.hideMenu(e);\n\n        break;\n\n      case 38:\n        // up arrow\n        e.preventDefault();\n\n        _this2.selectChildren(true);\n\n        break;\n\n      case 40:\n        // down arrow\n        e.preventDefault();\n\n        _this2.selectChildren(false);\n\n        break;\n\n      case 39:\n        // right arrow\n        _this2.tryToOpenSubMenu(e);\n\n        break;\n\n      case 13:\n        // enter\n        e.preventDefault();\n\n        _this2.tryToOpenSubMenu(e);\n\n        {\n          // determine the selected item is disabled or not\n          var disabled = _this2.seletedItemRef && _this2.seletedItemRef.props && _this2.seletedItemRef.props.disabled;\n\n          if (_this2.seletedItemRef && _this2.seletedItemRef.ref instanceof HTMLElement && !disabled) {\n            _this2.seletedItemRef.ref.click();\n          } else {\n            _this2.hideMenu(e);\n          }\n        }\n        break;\n\n      default: // do nothing\n\n    }\n  };\n\n  this.handleForceClose = function () {\n    _this2.setState({\n      forceSubMenuOpen: false\n    });\n  };\n\n  this.tryToOpenSubMenu = function (e) {\n    if (_this2.state.selectedItem && _this2.state.selectedItem.type === _this2.getSubMenuType()) {\n      e.preventDefault();\n\n      _this2.setState({\n        forceSubMenuOpen: true\n      });\n    }\n  };\n\n  this.selectChildren = function (forward) {\n    var selectedItem = _this2.state.selectedItem;\n    var children = [];\n    var disabledChildrenCount = 0;\n    var disabledChildIndexes = {};\n\n    var childCollector = function childCollector(child, index) {\n      // child can be empty in case you do conditional rendering of components, in which\n      // case it should not be accounted for as a real child\n      if (!child) {\n        return;\n      }\n\n      if ([MenuItem, _this2.getSubMenuType()].indexOf(child.type) < 0) {\n        // Maybe the MenuItem or SubMenu is capsuled in a wrapper div or something else\n        React.Children.forEach(child.props.children, childCollector);\n      } else if (!child.props.divider) {\n        if (child.props.disabled) {\n          ++disabledChildrenCount;\n          disabledChildIndexes[index] = true;\n        }\n\n        children.push(child);\n      }\n    };\n\n    React.Children.forEach(_this2.props.children, childCollector);\n\n    if (disabledChildrenCount === children.length) {\n      // All menu items are disabled, so none can be selected, don't do anything\n      return;\n    }\n\n    function findNextEnabledChildIndex(currentIndex) {\n      var i = currentIndex;\n\n      var incrementCounter = function incrementCounter() {\n        if (forward) {\n          --i;\n        } else {\n          ++i;\n        }\n\n        if (i < 0) {\n          i = children.length - 1;\n        } else if (i >= children.length) {\n          i = 0;\n        }\n      };\n\n      do {\n        incrementCounter();\n      } while (i !== currentIndex && disabledChildIndexes[i]);\n\n      return i === currentIndex ? null : i;\n    }\n\n    var currentIndex = children.indexOf(selectedItem);\n    var nextEnabledChildIndex = findNextEnabledChildIndex(currentIndex);\n\n    if (nextEnabledChildIndex !== null) {\n      _this2.setState({\n        selectedItem: children[nextEnabledChildIndex],\n        forceSubMenuOpen: false\n      });\n    }\n  };\n\n  this.onChildMouseMove = function (child) {\n    if (_this2.state.selectedItem !== child) {\n      _this2.setState({\n        selectedItem: child,\n        forceSubMenuOpen: false\n      });\n    }\n  };\n\n  this.onChildMouseLeave = function () {\n    _this2.setState({\n      selectedItem: null,\n      forceSubMenuOpen: false\n    });\n  };\n\n  this.renderChildren = function (children) {\n    return React.Children.map(children, function (child) {\n      var props = {};\n      if (!React.isValidElement(child)) return child;\n\n      if ([MenuItem, _this2.getSubMenuType()].indexOf(child.type) < 0) {\n        // Maybe the MenuItem or SubMenu is capsuled in a wrapper div or something else\n        props.children = _this2.renderChildren(child.props.children);\n        return React.cloneElement(child, props);\n      }\n\n      props.onMouseLeave = _this2.onChildMouseLeave.bind(_this2);\n\n      if (child.type === _this2.getSubMenuType()) {\n        // special props for SubMenu only\n        props.forceOpen = _this2.state.forceSubMenuOpen && _this2.state.selectedItem === child;\n        props.forceClose = _this2.handleForceClose;\n        props.parentKeyNavigationHandler = _this2.handleKeyNavigation;\n      }\n\n      if (!child.props.divider && _this2.state.selectedItem === child) {\n        // special props for selected item only\n        props.selected = true;\n\n        props.ref = function (ref) {\n          _this2.seletedItemRef = ref;\n        };\n\n        return React.cloneElement(child, props);\n      } // onMouseMove is only needed for non selected items\n\n\n      props.onMouseMove = function () {\n        return _this2.onChildMouseMove(child);\n      };\n\n      return React.cloneElement(child, props);\n    });\n  };\n};\n\nexport default AbstractMenu;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport AbstractMenu from './AbstractMenu';\nimport { callIfExists, cssClasses, hasOwnProp, store } from './helpers';\nimport listener from './globalEventListener';\n\nvar SubMenu = function (_AbstractMenu) {\n  _inherits(SubMenu, _AbstractMenu);\n\n  function SubMenu(props) {\n    _classCallCheck(this, SubMenu);\n\n    var _this = _possibleConstructorReturn(this, (SubMenu.__proto__ || Object.getPrototypeOf(SubMenu)).call(this, props));\n\n    _this.getMenuPosition = function () {\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.subMenu.getBoundingClientRect();\n\n      var position = {};\n\n      if (rect.bottom > innerHeight) {\n        position.bottom = 0;\n      } else {\n        position.top = 0;\n      }\n\n      if (rect.right < innerWidth) {\n        position.left = '100%';\n      } else {\n        position.right = '100%';\n      }\n\n      return position;\n    };\n\n    _this.getRTLMenuPosition = function () {\n      var _window2 = window,\n          innerHeight = _window2.innerHeight;\n\n      var rect = _this.subMenu.getBoundingClientRect();\n\n      var position = {};\n\n      if (rect.bottom > innerHeight) {\n        position.bottom = 0;\n      } else {\n        position.top = 0;\n      }\n\n      if (rect.left < 0) {\n        position.left = '100%';\n      } else {\n        position.right = '100%';\n      }\n\n      return position;\n    };\n\n    _this.hideMenu = function (e) {\n      // avoid closing submenus of a different menu tree\n      if (e.detail && e.detail.id && _this.menu && e.detail.id !== _this.menu.id) {\n        return;\n      }\n\n      if (_this.props.forceOpen) {\n        _this.props.forceClose();\n      }\n\n      _this.setState({\n        visible: false,\n        selectedItem: null\n      });\n\n      _this.unregisterHandlers();\n    };\n\n    _this.handleClick = function (event) {\n      event.preventDefault();\n      if (_this.props.disabled) return;\n      callIfExists(_this.props.onClick, event, assign({}, _this.props.data, store.data), store.target);\n    };\n\n    _this.handleMouseEnter = function () {\n      if (_this.closetimer) clearTimeout(_this.closetimer);\n      if (_this.props.disabled || _this.state.visible) return;\n      _this.opentimer = setTimeout(function () {\n        return _this.setState({\n          visible: true,\n          selectedItem: null\n        });\n      }, _this.props.hoverDelay);\n    };\n\n    _this.handleMouseLeave = function () {\n      if (_this.opentimer) clearTimeout(_this.opentimer);\n      if (!_this.state.visible) return;\n      _this.closetimer = setTimeout(function () {\n        return _this.setState({\n          visible: false,\n          selectedItem: null\n        });\n      }, _this.props.hoverDelay);\n    };\n\n    _this.menuRef = function (c) {\n      _this.menu = c;\n    };\n\n    _this.subMenuRef = function (c) {\n      _this.subMenu = c;\n    };\n\n    _this.registerHandlers = function () {\n      document.removeEventListener('keydown', _this.props.parentKeyNavigationHandler);\n      document.addEventListener('keydown', _this.handleKeyNavigation);\n    };\n\n    _this.unregisterHandlers = function (dismounting) {\n      document.removeEventListener('keydown', _this.handleKeyNavigation);\n\n      if (!dismounting) {\n        document.addEventListener('keydown', _this.props.parentKeyNavigationHandler);\n      }\n    };\n\n    _this.state = assign({}, _this.state, {\n      visible: false\n    });\n    return _this;\n  }\n\n  _createClass(SubMenu, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.listenId = listener.register(function () {}, this.hideMenu);\n    }\n  }, {\n    key: 'getSubMenuType',\n    value: function getSubMenuType() {\n      // eslint-disable-line class-methods-use-this\n      return SubMenu;\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      this.isVisibilityChange = (this.state.visible !== nextState.visible || this.props.forceOpen !== nextProps.forceOpen) && !(this.state.visible && nextProps.forceOpen) && !(this.props.forceOpen && nextState.visible);\n      return true;\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (!this.isVisibilityChange) return;\n\n      if (this.props.forceOpen || this.state.visible) {\n        var wrapper = window.requestAnimationFrame || setTimeout;\n        wrapper(function () {\n          var styles = _this2.props.rtl ? _this2.getRTLMenuPosition() : _this2.getMenuPosition();\n\n          _this2.subMenu.style.removeProperty('top');\n\n          _this2.subMenu.style.removeProperty('bottom');\n\n          _this2.subMenu.style.removeProperty('left');\n\n          _this2.subMenu.style.removeProperty('right');\n\n          if (hasOwnProp(styles, 'top')) _this2.subMenu.style.top = styles.top;\n          if (hasOwnProp(styles, 'left')) _this2.subMenu.style.left = styles.left;\n          if (hasOwnProp(styles, 'bottom')) _this2.subMenu.style.bottom = styles.bottom;\n          if (hasOwnProp(styles, 'right')) _this2.subMenu.style.right = styles.right;\n\n          _this2.subMenu.classList.add(cssClasses.menuVisible);\n\n          _this2.registerHandlers();\n\n          _this2.setState({\n            selectedItem: null\n          });\n        });\n      } else {\n        var cleanup = function cleanup() {\n          _this2.subMenu.removeEventListener('transitionend', cleanup);\n\n          _this2.subMenu.style.removeProperty('bottom');\n\n          _this2.subMenu.style.removeProperty('right');\n\n          _this2.subMenu.style.top = 0;\n          _this2.subMenu.style.left = '100%';\n\n          _this2.unregisterHandlers();\n        };\n\n        this.subMenu.addEventListener('transitionend', cleanup);\n        this.subMenu.classList.remove(cssClasses.menuVisible);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.listenId) {\n        listener.unregister(this.listenId);\n      }\n\n      if (this.opentimer) clearTimeout(this.opentimer);\n      if (this.closetimer) clearTimeout(this.closetimer);\n      this.unregisterHandlers(true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _cx;\n\n      var _props = this.props,\n          children = _props.children,\n          attributes = _props.attributes,\n          disabled = _props.disabled,\n          title = _props.title,\n          selected = _props.selected;\n      var visible = this.state.visible;\n      var menuProps = {\n        ref: this.menuRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        className: cx(cssClasses.menuItem, cssClasses.subMenu, attributes.listClassName),\n        style: {\n          position: 'relative'\n        }\n      };\n      var menuItemProps = {\n        className: cx(cssClasses.menuItem, attributes.className, (_cx = {}, _defineProperty(_cx, cx(cssClasses.menuItemDisabled, attributes.disabledClassName), disabled), _defineProperty(_cx, cx(cssClasses.menuItemActive, attributes.visibleClassName), visible), _defineProperty(_cx, cx(cssClasses.menuItemSelected, attributes.selectedClassName), selected), _cx)),\n        onMouseMove: this.props.onMouseMove,\n        onMouseOut: this.props.onMouseOut,\n        onClick: this.handleClick\n      };\n      var subMenuProps = {\n        ref: this.subMenuRef,\n        style: {\n          position: 'absolute',\n          transition: 'opacity 1ms',\n          // trigger transitionend event\n          top: 0,\n          left: '100%'\n        },\n        className: cx(cssClasses.menu, this.props.className)\n      };\n      return React.createElement('nav', _extends({}, menuProps, {\n        role: 'menuitem',\n        tabIndex: '-1',\n        'aria-haspopup': 'true'\n      }), React.createElement('div', _extends({}, attributes, menuItemProps), title), React.createElement('nav', _extends({}, subMenuProps, {\n        role: 'menu',\n        tabIndex: '-1'\n      }), this.renderChildren(children)));\n    }\n  }]);\n\n  return SubMenu;\n}(AbstractMenu);\n\nSubMenu.propTypes = {\n  children: PropTypes.node.isRequired,\n  attributes: PropTypes.object,\n  title: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  hoverDelay: PropTypes.number,\n  rtl: PropTypes.bool,\n  selected: PropTypes.bool,\n  onMouseMove: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  forceOpen: PropTypes.bool,\n  forceClose: PropTypes.func,\n  parentKeyNavigationHandler: PropTypes.func\n};\nSubMenu.defaultProps = {\n  disabled: false,\n  hoverDelay: 500,\n  attributes: {},\n  className: '',\n  rtl: false,\n  selected: false,\n  onMouseMove: function onMouseMove() {\n    return null;\n  },\n  onMouseOut: function onMouseOut() {\n    return null;\n  },\n  forceOpen: false,\n  forceClose: function forceClose() {\n    return null;\n  },\n  parentKeyNavigationHandler: function parentKeyNavigationHandler() {\n    return null;\n  }\n};\nexport default SubMenu;","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport listener from './globalEventListener';\nimport AbstractMenu from './AbstractMenu';\nimport SubMenu from './SubMenu';\nimport { hideMenu } from './actions';\nimport { cssClasses, callIfExists, store } from './helpers';\n\nvar ContextMenu = function (_AbstractMenu) {\n  _inherits(ContextMenu, _AbstractMenu);\n\n  function ContextMenu(props) {\n    _classCallCheck(this, ContextMenu);\n\n    var _this = _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, props));\n\n    _this.registerHandlers = function () {\n      document.addEventListener('mousedown', _this.handleOutsideClick);\n      document.addEventListener('touchstart', _this.handleOutsideClick);\n      document.addEventListener('scroll', _this.handleHide);\n      document.addEventListener('contextmenu', _this.handleHide);\n      document.addEventListener('keydown', _this.handleKeyNavigation);\n      window.addEventListener('resize', _this.handleHide);\n    };\n\n    _this.unregisterHandlers = function () {\n      document.removeEventListener('mousedown', _this.handleOutsideClick);\n      document.removeEventListener('touchstart', _this.handleOutsideClick);\n      document.removeEventListener('scroll', _this.handleHide);\n      document.removeEventListener('contextmenu', _this.handleHide);\n      document.removeEventListener('keydown', _this.handleKeyNavigation);\n      window.removeEventListener('resize', _this.handleHide);\n    };\n\n    _this.handleShow = function (e) {\n      if (e.detail.id !== _this.props.id || _this.state.isVisible) return;\n      var _e$detail$position = e.detail.position,\n          x = _e$detail$position.x,\n          y = _e$detail$position.y;\n\n      _this.setState({\n        isVisible: true,\n        x: x,\n        y: y\n      });\n\n      _this.registerHandlers();\n\n      callIfExists(_this.props.onShow, e);\n    };\n\n    _this.handleHide = function (e) {\n      if (_this.state.isVisible && (!e.detail || !e.detail.id || e.detail.id === _this.props.id)) {\n        _this.unregisterHandlers();\n\n        _this.setState({\n          isVisible: false,\n          selectedItem: null,\n          forceSubMenuOpen: false\n        });\n\n        callIfExists(_this.props.onHide, e);\n      }\n    };\n\n    _this.handleOutsideClick = function (e) {\n      if (!_this.menu.contains(e.target)) hideMenu();\n    };\n\n    _this.handleMouseLeave = function (event) {\n      event.preventDefault();\n      callIfExists(_this.props.onMouseLeave, event, assign({}, _this.props.data, store.data), store.target);\n      if (_this.props.hideOnLeave) hideMenu();\n    };\n\n    _this.handleContextMenu = function (e) {\n      if (process.env.NODE_ENV === 'production') {\n        e.preventDefault();\n      }\n\n      _this.handleHide(e);\n    };\n\n    _this.hideMenu = function (e) {\n      if (e.keyCode === 27 || e.keyCode === 13) {\n        // ECS or enter\n        hideMenu();\n      }\n    };\n\n    _this.getMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect();\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (x + rect.width > innerWidth) {\n        menuStyles.left -= rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.getRTLMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window2 = window,\n          innerWidth = _window2.innerWidth,\n          innerHeight = _window2.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect(); // Try to position the menu on the left side of the cursor\n\n\n      menuStyles.left = x - rect.width;\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left += rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left + rect.width > innerWidth) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.menuRef = function (c) {\n      _this.menu = c;\n    };\n\n    _this.state = assign({}, _this.state, {\n      x: 0,\n      y: 0,\n      isVisible: false\n    });\n    return _this;\n  }\n\n  _createClass(ContextMenu, [{\n    key: 'getSubMenuType',\n    value: function getSubMenuType() {\n      // eslint-disable-line class-methods-use-this\n      return SubMenu;\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.listenId = listener.register(this.handleShow, this.handleHide);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.state.isVisible) {\n        var wrapper = window.requestAnimationFrame || setTimeout;\n        wrapper(function () {\n          var _state = _this2.state,\n              x = _state.x,\n              y = _state.y;\n\n          var _ref = _this2.props.rtl ? _this2.getRTLMenuPosition(x, y) : _this2.getMenuPosition(x, y),\n              top = _ref.top,\n              left = _ref.left;\n\n          wrapper(function () {\n            if (!_this2.menu) return;\n            _this2.menu.style.top = top + 'px';\n            _this2.menu.style.left = left + 'px';\n            _this2.menu.style.opacity = 1;\n            _this2.menu.style.pointerEvents = 'auto';\n          });\n        });\n      } else {\n        if (!this.menu) return;\n        this.menu.style.opacity = 0;\n        this.menu.style.pointerEvents = 'none';\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.listenId) {\n        listener.unregister(this.listenId);\n      }\n\n      this.unregisterHandlers();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          style = _props.style;\n      var isVisible = this.state.isVisible;\n      var inlineStyle = assign({}, style, {\n        position: 'fixed',\n        opacity: 0,\n        pointerEvents: 'none'\n      });\n      var menuClassnames = cx(cssClasses.menu, className, _defineProperty({}, cssClasses.menuVisible, isVisible));\n      return React.createElement('nav', {\n        role: 'menu',\n        tabIndex: '-1',\n        ref: this.menuRef,\n        style: inlineStyle,\n        className: menuClassnames,\n        onContextMenu: this.handleContextMenu,\n        onMouseLeave: this.handleMouseLeave\n      }, this.renderChildren(children));\n    }\n  }]);\n\n  return ContextMenu;\n}(AbstractMenu);\n\nContextMenu.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  data: PropTypes.object,\n  className: PropTypes.string,\n  hideOnLeave: PropTypes.bool,\n  rtl: PropTypes.bool,\n  onHide: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onShow: PropTypes.func,\n  style: PropTypes.object\n};\nContextMenu.defaultProps = {\n  className: '',\n  data: {},\n  hideOnLeave: false,\n  rtl: false,\n  onHide: function onHide() {\n    return null;\n  },\n  onMouseLeave: function onMouseLeave() {\n    return null;\n  },\n  onShow: function onShow() {\n    return null;\n  },\n  style: {}\n};\nexport default ContextMenu;","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { showMenu, hideMenu } from './actions';\nimport { callIfExists, cssClasses } from './helpers';\n\nvar ContextMenuTrigger = function (_Component) {\n  _inherits(ContextMenuTrigger, _Component);\n\n  function ContextMenuTrigger() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ContextMenuTrigger);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ContextMenuTrigger.__proto__ || Object.getPrototypeOf(ContextMenuTrigger)).call.apply(_ref, [this].concat(args))), _this), _this.touchHandled = false, _this.handleMouseDown = function (event) {\n      if (_this.props.holdToDisplay >= 0 && event.button === 0) {\n        event.persist();\n        event.stopPropagation();\n        _this.mouseDownTimeoutId = setTimeout(function () {\n          return _this.handleContextClick(event);\n        }, _this.props.holdToDisplay);\n      }\n\n      callIfExists(_this.props.attributes.onMouseDown, event);\n    }, _this.handleMouseUp = function (event) {\n      if (event.button === 0) {\n        clearTimeout(_this.mouseDownTimeoutId);\n      }\n\n      callIfExists(_this.props.attributes.onMouseUp, event);\n    }, _this.handleMouseOut = function (event) {\n      if (event.button === 0) {\n        clearTimeout(_this.mouseDownTimeoutId);\n      }\n\n      callIfExists(_this.props.attributes.onMouseOut, event);\n    }, _this.handleTouchstart = function (event) {\n      _this.touchHandled = false;\n\n      if (_this.props.holdToDisplay >= 0) {\n        event.persist();\n        event.stopPropagation();\n        _this.touchstartTimeoutId = setTimeout(function () {\n          _this.handleContextClick(event);\n\n          _this.touchHandled = true;\n        }, _this.props.holdToDisplay);\n      }\n\n      callIfExists(_this.props.attributes.onTouchStart, event);\n    }, _this.handleTouchEnd = function (event) {\n      if (_this.touchHandled) {\n        event.preventDefault();\n      }\n\n      clearTimeout(_this.touchstartTimeoutId);\n      callIfExists(_this.props.attributes.onTouchEnd, event);\n    }, _this.handleContextMenu = function (event) {\n      _this.handleContextClick(event);\n\n      callIfExists(_this.props.attributes.onContextMenu, event);\n    }, _this.handleContextClick = function (event) {\n      if (_this.props.disable) return;\n      if (_this.props.disableIfShiftIsPressed && event.shiftKey) return;\n      event.preventDefault();\n      event.stopPropagation();\n      var x = event.clientX || event.touches && event.touches[0].pageX;\n      var y = event.clientY || event.touches && event.touches[0].pageY;\n\n      if (_this.props.posX) {\n        x -= _this.props.posX;\n      }\n\n      if (_this.props.posY) {\n        y -= _this.props.posY;\n      }\n\n      hideMenu();\n      var data = callIfExists(_this.props.collect, _this.props);\n      var showMenuConfig = {\n        position: {\n          x: x,\n          y: y\n        },\n        target: _this.elem,\n        id: _this.props.id\n      };\n\n      if (data && typeof data.then === 'function') {\n        // it's promise\n        data.then(function (resp) {\n          showMenuConfig.data = assign({}, resp, {\n            target: event.target\n          });\n          showMenu(showMenuConfig);\n        });\n      } else {\n        showMenuConfig.data = assign({}, data, {\n          target: event.target\n        });\n        showMenu(showMenuConfig);\n      }\n    }, _this.elemRef = function (c) {\n      _this.elem = c;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ContextMenuTrigger, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          renderTag = _props.renderTag,\n          attributes = _props.attributes,\n          children = _props.children;\n      var newAttrs = assign({}, attributes, {\n        className: cx(cssClasses.menuWrapper, attributes.className),\n        onContextMenu: this.handleContextMenu,\n        onMouseDown: this.handleMouseDown,\n        onMouseUp: this.handleMouseUp,\n        onTouchStart: this.handleTouchstart,\n        onTouchEnd: this.handleTouchEnd,\n        onMouseOut: this.handleMouseOut,\n        ref: this.elemRef\n      });\n      return React.createElement(renderTag, newAttrs, children);\n    }\n  }]);\n\n  return ContextMenuTrigger;\n}(Component);\n\nContextMenuTrigger.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  attributes: PropTypes.object,\n  collect: PropTypes.func,\n  disable: PropTypes.bool,\n  holdToDisplay: PropTypes.number,\n  posX: PropTypes.number,\n  posY: PropTypes.number,\n  renderTag: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  disableIfShiftIsPressed: PropTypes.bool\n};\nContextMenuTrigger.defaultProps = {\n  attributes: {},\n  collect: function collect() {\n    return null;\n  },\n  disable: false,\n  holdToDisplay: 1000,\n  renderTag: 'div',\n  posX: 0,\n  posY: 0,\n  disableIfShiftIsPressed: false\n};\nexport default ContextMenuTrigger;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nimport React, { Component } from 'react';\nimport ContextMenuTrigger from './ContextMenuTrigger';\nimport listener from './globalEventListener'; // collect ContextMenuTrigger's expected props to NOT pass them on as part of the context\n\nvar ignoredTriggerProps = [].concat(_toConsumableArray(Object.keys(ContextMenuTrigger.propTypes)), ['children']); // expect the id of the menu to be responsible for as outer parameter\n\nexport default function (menuId) {\n  // expect menu component to connect as inner parameter\n  // <Child/> is presumably a wrapper of <ContextMenu/>\n  return function (Child) {\n    // return wrapper for <Child/> that forwards the ContextMenuTrigger's additional props\n    return function (_Component) {\n      _inherits(ConnectMenu, _Component);\n\n      function ConnectMenu(props) {\n        _classCallCheck(this, ConnectMenu);\n\n        var _this = _possibleConstructorReturn(this, (ConnectMenu.__proto__ || Object.getPrototypeOf(ConnectMenu)).call(this, props));\n\n        _this.handleShow = function (e) {\n          if (e.detail.id !== menuId) return; // the onShow event's detail.data object holds all ContextMenuTrigger props\n\n          var data = e.detail.data;\n          var filteredData = {};\n\n          for (var key in data) {\n            // exclude props the ContextMenuTrigger is expecting itself\n            if (!ignoredTriggerProps.includes(key)) {\n              filteredData[key] = data[key];\n            }\n          }\n\n          _this.setState({\n            trigger: filteredData\n          });\n        };\n\n        _this.handleHide = function () {\n          _this.setState({\n            trigger: null\n          });\n        };\n\n        _this.state = {\n          trigger: null\n        };\n        return _this;\n      }\n\n      _createClass(ConnectMenu, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.listenId = listener.register(this.handleShow, this.handleHide);\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          if (this.listenId) {\n            listener.unregister(this.listenId);\n          }\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return React.createElement(Child, _extends({}, this.props, {\n            id: menuId,\n            trigger: this.state.trigger\n          }));\n        }\n      }]);\n\n      return ConnectMenu;\n    }(Component);\n  };\n}","export { default as ContextMenu } from './ContextMenu';\nexport { default as ContextMenuTrigger } from './ContextMenuTrigger';\nexport { default as MenuItem } from './MenuItem';\nexport { default as SubMenu } from './SubMenu';\nexport { default as connectMenu } from './connectMenu';\nexport { hideMenu, showMenu } from './actions';"],"sourceRoot":""}